<!DOCTYPE html>
<html lang="en">
<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async></script>
<script>
window.OneSignal = window.OneSignal || [];
OneSignal.push(function() {
  OneSignal.init({
    appId: "3855e0c0-cc48-4236-8069-cc823c34e47f",
    serviceWorkerPath: "service-worker.js",
    serviceWorkerUpdaterPath: "service-worker.js",
    notifyButton: {
      enable: true
    }
  });
});
</script>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>House of Prayer</title>

  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">

  <meta name="theme-color" content="#ff2f92">
  <style>
  .admin-only {
    display: none;
  }

  .admin .admin-only {
    display: block;
  }
</style>

</head>
<body>

<header>
  <h1>ğŸ  House of Prayer</h1>
</header>

<!-- AUTH SCREEN -->
<div id="auth-screen">
  <h2>Welcome</h2>

  <input id="name" placeholder="Full Name" />
  <input id="email" placeholder="Email" />

  <select id="role">
    <option value="member">Member</option>
    <option value="admin">Admin</option>
  </select>

  <button onclick="login()">Continue</button>
</div>

<!-- APP SCREEN -->
<div id="app-screen" style="display:none; padding:20px;">

  <button onclick="logout()" style="float:right;">Logout</button>

  <!-- NAV -->
  <nav>
    <button onclick="showTab('home-tab')">ğŸ </button>
    <button onclick="showTab('messages-tab')">ğŸ’¬</button>
    <button onclick="showTab('volunteer-tab')">ğŸ—“ï¸</button>
    <button onclick="showTab('bible-tab')">ğŸ“–</button>
    <button onclick="showTab('give-tab')">ğŸ’–</button>
    <button onclick="showTab('media-tab')">ğŸ¥</button>
    <button onclick="showTab('profile-tab')">ğŸ‘¤</button>
  </nav>

  <!-- HOME -->
  <div id="home-tab" class="tab">
    <h2>Welcome</h2>

    <div class="admin-only">
      <h3>ğŸ›  Admin Panel</h3>
    </div>

    <h3>ğŸ“… Service Times</h3>

    <div class="admin-only">
      <input id="serviceInput" placeholder="Sunday Worship â€“ 10:30 AM" />
      <button onclick="addService()">Add Service</button>
    </div>

    <ul id="serviceList"></ul>
  </div>

  <!-- MESSAGES -->
  <div id="messages-tab" class="tab" style="display:none;">
  <h2>ğŸ’¬ Messages</h2>

  <p>Select a group to start messaging.</p>

  <div class="admin-only">
    <h3>ğŸ›  Admin: Create Group</h3>
    <input id="groupName" placeholder="Group name" />
    <button onclick="createGroup()">Create Group</button>
  </div>

  <h3>ğŸ‘¥ Groups</h3>
  <ul id="groupList"></ul>

  <div id="chatSection" style="display:none; margin-top:10px;">
    <h3 id="chatTitle"></h3>
    <div id="chatMessages" style="border:1px solid #ccc; min-height:150px; padding:10px;"></div>
    <input id="chatInput" placeholder="Type a message..." />
    <button onclick="sendMessage()">Send</button>
  </div>
</div>

  <!-- VOLUNTEERS -->
  <div id="volunteer-tab" class="tab" style="display:none;">
    <h2>ğŸ¤ Volunteers</h2>

    <div class="admin-only">
      <h4>ğŸ§¹ Cleaning</h4>
      <textarea id="cleaningInput"></textarea>
      <button onclick="saveCleaning()">Save</button>

      <h4>ğŸ› Usher</h4>
      <textarea id="usherInput"></textarea>
      <button onclick="saveUsher()">Save</button>
    </div>

    <h4>ğŸ§¹ Cleaning Schedule</h4>
    <div id="cleaningDisplay"></div>

    <h4>ğŸ› Usher Schedule</h4>
    <div id="usherDisplay"></div>

    <hr />

    <h3>ğŸ“† Availability</h3>

    <div id="calendar-controls">
      <button onclick="prevMonth()">â—€</button>
      <span id="monthLabel"></span>
      <button onclick="nextMonth()">â–¶</button>
    </div>

    <div id="calendar"></div>

    <button onclick="saveCalendarAvailability()">Save Availability</button>
    <div id="myCalendarAvailability"></div>

    <div class="admin-only">
      <h3>Admin View</h3>
      <div id="allCalendarAvailability"></div>
    </div>
  </div>

  <!-- BIBLE -->
  <div id="bible-tab" class="tab" style="display:none;">
    <h2>ğŸ“– Bible</h2>
    <p>Coming next</p>
  </div>

  <!-- GIVE -->
  <div id="give-tab" class="tab" style="display:none;">
    <h2>ğŸ’– Give</h2>
    <p>QR giving</p>
  </div>
<!-- MEDIA -->
  <div id="media-tab" class="tab" style="display:none;">
  <h2>ğŸ¥ Media & Resources</h2>

  <h3>ğŸ“º Live Stream</h3>
  <p>Watch live services here.</p>

  <h3>ğŸ§ Sermons</h3>
  <ul>
    <li><a href="#">Sunday Service â€“ Audio</a></li>
    <li><a href="#">Midweek Bible Study</a></li>
  </ul>
</div>

  <!-- PROFILE -->
  <div id="profile-tab" class="tab" style="display:none;">
  <h2>ğŸ‘¤ Profile</h2>

  <p><strong>Name:</strong> <span id="profileName"></span></p>
  <p><strong>Email:</strong> <span id="profileEmail"></span></p>
  <p><strong>Role:</strong> <span id="profileRole"></span></p>

  <div class="admin-only">
    <p>ğŸ›  You are an admin.</p>
  </div>
</div>

<script src="app.js"></script>
</body>
